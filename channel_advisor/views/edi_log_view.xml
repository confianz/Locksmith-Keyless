<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="chanl_adv_logger_tree_view" model="ir.ui.view">
        <field name="name">chnl_adv.logger.tree</field>
        <field name="model">transaction.log</field>
        <field name="arch" type="xml">
            <tree create="false" edit="false" decoration-muted="state=='done'">
                <field name="name" />
                <field name="create_date" />
                <field name="message" />
                <field name="state" />
            </tree>
        </field>
    </record>


    <record id="chanl_adv_logger_form_view" model="ir.ui.view">
        <field name="name">chnl_adv.logger.form</field>
        <field name="model">transaction.log</field>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <form create="false">
                <header>
                    <button name="action_reimport" type="object" string="Reimport" attrs="{'invisible': [('state', '=', 'done')]}" />
                    <field name="state" widget="statusbar" statusbar_visible="new,done" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name" />
                        </group>
                        <group>
                            <field name="create_date" />
                            <field name="sale_id" readonly="1" force_save="1"
                                attrs="{'invisible': [('state', '!=', 'done')]}" />
                        </group>
                    </group>
                    <group>
                        <field name="message" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <record id="chanl_adv_logger_action" model="ir.actions.act_window">
        <field name="name">Logs</field>
        <field name="res_model">transaction.log</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Transaction Log" id="menu_chanl_adv_logger" parent="menu_chnl_adv" action="chanl_adv_logger_action"
        sequence="500" />

</odoo>
